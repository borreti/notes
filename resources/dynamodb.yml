Resources:
  NotesDynamoDBTable:
    Type: AWS::DynamoDB::Table
    Properties:
      TableName: notes-database
      AttributeDefinitions:
        - AttributeName: userID
          AttributeType: S
        - AttributeName: title
          AttributeType: S
        - AttributeName: noteID
          AttributeType: S
      KeySchema:
        - AttributeName: userID
          KeyType: HASH
        - AttributeName: noteID
          KeyType: RANGE
      BillingMode: PAY_PER_REQUEST
      GlobalSecondaryIndexes:
      - IndexName: note-index
        KeySchema:
        - AttributeName: noteID
          KeyType: HASH
        - AttributeName: title
          KeyType: RANGE
        Projection:
          ProjectionType: ALL
Outputs:
  NotesDynamoDbARN:
    Description: "Notes-Database DynamoDB ARN"
    Value:
      "Fn::GetAtt": [ NotesDynamoDBTable, Arn ]